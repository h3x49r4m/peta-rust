<div class="book-toc-wrapper" data-component="book_toc">
  <!-- Toggle Button -->
  <button class="book-toc-toggle-btn" id="book-toc-toggle" aria-label="Toggle Table of Contents" aria-expanded="false">
    <svg class="toc-icon toc-icon-closed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2zm0 0h16" />
    </svg>
    <svg class="toc-icon toc-icon-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16M12 4c0-1.1-2.2-2-5-2s-5 .9-5 2v16c0-1.1 2.2-2 5-2s5 .9 5 2M12 4c0-1.1 2.2-2 5-2s5 .9 5 2v16c0-1.1-2.2-2-5-2s-5 .9-5 2" />
    </svg>
  </button>

  <!-- TOC Content Panel -->
  <div class="book-toc-panel" id="book-toc-panel">
    <div class="book-toc-header">
      <h3 class="book-toc-title">{% if book_title %}{{ book_title }}{% else %}Contents{% endif %}</h3>
    </div>
    <div class="book-toc-content" id="book-toc-content">
      {% if book_toc %}
      {{ book_toc | safe }}
      {% else %}
      <p class="toc-empty">No chapters available</p>
      {% endif %}
    </div>
  </div>
</div>