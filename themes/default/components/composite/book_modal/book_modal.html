<!-- Book Modal Component -->
<div class="book-modal-overlay" id="book-modal-overlay" data-component="book_modal">
  <div class="book-modal-container">
    <!-- Modal Header -->
    <div class="book-modal-header">
      <div class="book-modal-header-content">
        <h2 class="book-modal-title">{{ book_title }}</h2>
        {% if book_author %}
        <p class="book-modal-author">by {{ book_author }}</p>
        {% endif %}
      </div>
      <button class="book-modal-close" aria-label="Close modal">
        <span class="close-icon">&times;</span>
      </button>
    </div>

    <!-- Modal Body -->
    <div class="book-modal-body">
      <!-- Book TOC - Floating component -->
      <aside class="book-modal-toc-wrapper">
        <div class="book-toc-wrapper" data-component="book_toc">
          <div class="book-toc-container">
            <div class="book-toc-header">
              <h3 class="book-toc-title">Contents</h3>
            </div>
            <div class="book-toc-content" id="book-toc-content">
              <!-- TOC will be populated by JavaScript -->
            </div>
          </div>
        </div>
      </aside>
      
      <!-- Book Content -->
      <main class="book-modal-content">
        {% if content %}
        <div class="book-content" data-component="book_content">
          <div class="book-content-wrapper">
            {{ content | safe }}
          </div>
        </div>
        {% endif %}
      </main>
    </div>
  </div>
</div>