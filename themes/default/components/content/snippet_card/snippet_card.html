<div class="snippet-card" data-component="snippet_card" data-size="{{ size }}">
  <header class="snippet-card-header">
    <div class="snippet-card-info">
      <h3 class="snippet-card-title">
        <a href="{{ snippet.url }}" class="snippet-card-title-link">{{ snippet.title }}</a>
      </h3>
      
      {% if snippet.description %}
      <p class="snippet-card-description">{{ snippet.description | truncate(length: 120) }}</p>
      {% endif %}
    </div>
    
    {% if show_language and snippet.language %}
    <div class="snippet-card-language">
      <span class="snippet-card-language-badge">{{ snippet.language }}</span>
    </div>
    {% endif %}
  </header>
  
  {% if show_preview and snippet.code %}
  <div class="snippet-card-preview">
    <div class="snippet-card-code-container">
      {% if show_language %}
      <div class="snippet-card-code-header">
        <span class="snippet-card-code-language">{{ snippet.language }}</span>
        {% if snippet.lines %}
        <span class="snippet-card-code-lines">{{ snippet.lines }} lines</span>
        {% endif %}
      </div>
      {% endif %}
      
      <pre class="snippet-card-code"><code class="language-{{ snippet.language | default(value='text') }}">{{ snippet.code | truncate_lines(lines=preview_lines) }}</code></pre>
      
      {% if snippet.code | line_count > preview_lines %}
      <div class="snippet-card-preview-more">
        <span class="snippet-card-preview-text">+{{ snippet.code | line_count - preview_lines }} more lines</span>
      </div>
      {% endif %}
    </div>
  </div>
  {% endif %}
  
  {% if snippet.tags or snippet.difficulty %}
  <div class="snippet-card-meta">
    {% if snippet.tags %}
    <div class="snippet-card-tags">
      {% for tag in snippet.tags[:3] %}
      <span class="snippet-card-tag">{{ tag }}</span>
      {% endfor %}
      {% if snippet.tags|length > 3 %}
      <span class="snippet-card-tag snippet-card-tag--more">+{{ snippet.tags|length - 3 }}</span>
      {% endif %}
    </div>
    {% endif %}
    
    {% if snippet.difficulty %}
    <div class="snippet-card-difficulty">
      <span class="snippet-card-difficulty-badge snippet-card-difficulty--{{ snippet.difficulty }}">
        {{ snippet.difficulty }}
      </span>
    </div>
    {% endif %}
  </div>
  {% endif %}
  
  {% if show_actions or snippet.url %}
  <div class="snippet-card-actions">
    {% slot actions %}
    <a href="{{ snippet.url }}" class="snippet-card-action snippet-card-action--primary">
      View Code
    </a>
    {% if snippet.copy_url %}
    <button class="snippet-card-action snippet-card-action--secondary" data-copy data-url="{{ snippet.copy_url }}">
      {% component "icon" with name="copy" library="feather" size="xs" %}
      {% endslot %}
      Copy
    </button>
    {% endif %}
    {% endslot %}
  </div>
  {% endif %}
  
  {% if footer %}
  <div class="snippet-card-footer">
    {% slot footer %}{% endslot %}
  </div>
  {% endif %}
  
  {% if snippet.author or snippet.created_date %}
  <div class="snippet-card-attribution">
    {% if snippet.author %}
    <span class="snippet-card-author">by {{ snippet.author }}</span>
    {% endif %}
    
    {% if snippet.created_date %}
    <span class="snippet-card-date">{{ snippet.created_date | date(format="%b %d, %Y") }}</span>
    {% endif %}
  </div>
  {% endif %}
</div>