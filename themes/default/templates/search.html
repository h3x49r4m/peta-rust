{% extends "base.html" %}

{% block title %}Search - {{ site.title }}{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Search</h1>
    <p class="page-description">Find articles, books, snippets, and projects</p>
</div>

<div class="search-form" style="margin-bottom: var(--spacing-8);">
    <input type="text" class="search-input" placeholder="Search articles, books, snippets, projects..." id="searchInput" 
           style="width: 100%; padding: var(--spacing-4); font-size: var(--font-size-base); border: 1px solid var(--border-color); border-radius: var(--radius-md);">
</div>

<div class="search-results" id="searchResults">
    <p style="color: var(--text-secondary); text-align: center; padding: var(--spacing-8);">Enter a search term to find content.</p>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.getElementById('searchInput').addEventListener('input', function(e) {
        const query = e.target.value.toLowerCase();
        const resultsDiv = document.getElementById('searchResults');
        
        if (query.length < 2) {
            resultsDiv.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: var(--spacing-8);">Enter at least 2 characters to search.</p>';
            return;
        }
        
        // Mock search results - replace with actual search implementation
        const mockResults = [
            { title: 'Sample Article', excerpt: 'This is a sample article...', type: 'article', url: '/articles/sample' },
            { title: 'Sample Book', excerpt: 'This is a sample book...', type: 'book', url: '/books/sample' },
            { title: 'Sample Snippet', excerpt: 'This is a sample snippet...', type: 'snippet', url: '/snippets/sample' },
            { title: 'Sample Project', excerpt: 'This is a sample project...', type: 'project', url: '/projects/sample' }
        ];
        
        const filteredResults = mockResults.filter(item => 
            item.title.toLowerCase().includes(query) || 
            item.excerpt.toLowerCase().includes(query)
        );
        
        if (filteredResults.length === 0) {
            resultsDiv.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: var(--spacing-8);">No results found.</p>';
        } else {
            resultsDiv.innerHTML = '<div class="content-grid">' + filteredResults.map(result => `
                <div class="content-card">
                    <div class="content-type-badge">${result.type}</div>
                    <h3><a href="${result.url}">${result.title}</a></h3>
                    <p>${result.excerpt}</p>
                </div>
            `).join('') + '</div>';
        }
    });
</script>
{% endblock %}